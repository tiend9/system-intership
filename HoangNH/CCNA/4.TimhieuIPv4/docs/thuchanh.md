2.5:
Địa chỉ có thể dùng cho host: 
- 150.100.255.255 
- 175.100.255.18 
- 195.234.253.0 
- 100.0.0.23

Địa chỉ không thể dùng cho host:
- 188.258.221.176 : vì octet thứ hai là 258 lớn hơn 255
- 127.34.25.189 : vì đây là địa chỉ loopback
- 224.156.217.73 : vì đây là địa chỉ lớp D dùng làm địa chỉ multicast

4.6.1:

a) 192.168.2.0/24 mượn 5 bit, còn lại 3 bit, bước nhảy là 8

- số subnet: 2^5 = 32
- số host/subnet: 2^3 - 2 = 6
- Liệt kê các mạng:

192.168.2.0/29 --> địa chỉ mạng\
192.168.2.1/29 --> địa chỉ host đầu
  
  ....

192.168.2.6/29 --> địa chỉ host cuối\
192.168.2.7/29 --> địa chỉ broadcast

---------------------------------

192.168.2.8/29 --> địa chỉ mạng\
192.168.2.9/29 --> địa chỉ host đầu
  
  ....

192.168.2.14/29 --> địa chỉ host cuối\
192.168.2.15/29 --> địa chỉ broadcast

---------------------------------

192.168.2.16/29 --> địa chỉ mạng\
192.168.2.17/29 --> địa chỉ host đầu 
  
  ....

192.168.2.22/29 --> địa chỉ host cuối\
192.168.2.23/29 --> địa chỉ broadcast

---------------------------------

  ....

---------------------------------

192.168.2.248/29 --> địa chỉ mạng\
192.168.2.249/29 --> địa chỉ host đầu
  
  ....

192.168.2.254/29 --> địa chỉ host cuối\
192.168.2.255/29 --> địa chỉ broadcast

---------------------------------

Subnet mask là 255.255.255.248. Số prefex là 29

b) 192.168.12.0/24 mượn 3 bit, còn lại 5 bit, bước nhảy là 32

- số subnet: 2^3 = 8
- số host/subnet: 2^5 - 2 = 30
- Liệt kê các mạng:

192.168.12.0/27 --> địa chỉ mạng\
192.168.12.1/27 --> địa chỉ host đầu

....

192.168.12.30/27 --> địa chỉ host cuối\
192.168.12.31/27 --> địa chỉ broadcast

---------------------------------

192.168.12.32/27 --> địa chỉ mạng\
192.168.12.33/27 --> địa chỉ host đầu

....

192.168.12.62/27 --> địa chỉ host cuối\
192.168.12.63/27 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

192.168.12.224/27 --> địa chỉ mạng\
192.168.12.225/27 --> địa chỉ host đầu

....

192.168.12.254/27 --> địa chỉ host cuối\
192.168.12.255/27 --> địa chỉ broadcast

Subnet mask là 255.255.255.224. Số prefex là 27

c) 172.16.2.0/24 mượn 2 bit, còn lại 6 bit, bước nhảy là 4

- số subnet: 2^6 = 64
- số host/subnet: 2^2 - 2 = 2
- Liệt kê các mạng:

172.16.2.0/26 --> địa chỉ mạng\
172.16.2.1/26 --> địa chỉ host đầu\
172.16.2.2/26 --> địa chỉ host cuối\
172.16.2.3/26 --> địa chỉ broadcast

---------------------------------

172.16.2.4/26 --> địa chỉ mạng\
172.16.2.5/26 --> địa chỉ host đầu\
172.16.2.6/26 --> địa chỉ host cuối\
172.16.2.7/26 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

172.16.2.252/26 --> địa chỉ mạng\
172.16.2.253/26 --> địa chỉ host đầu\
172.16.2.254/26 --> địa chỉ host cuối\
172.16.2.255/26 --> địa chỉ broadcast

---------------------------------

Subnet mask là 255.255.255.192. Số prefex là 26


d) 172.16.0.0/16 mượn 3 bit, còn lại 13 bit

- số subnet: 2^3 = 8
- số host/subnet: 2^13 - 2 = 8190
- Liệt kê các mạng:

172.16.0.0/19 --> địa chỉ mạng\
172.16.0.1/19 --> địa chỉ host đầu

....

172.16.31.254/19 --> địa chỉ host cuối\
172.16.31.255/19 --> địa chỉ broadcast

---------------------------------

172.16.32.0/19 --> địa chỉ mạng\
172.16.32.1/19 --> địa chỉ host đầu

....

172.16.63.254/19 --> địa chỉ host cuối\
172.16.63.255/19 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

172.16.224.0/19 --> địa chỉ mạng\
172.16.224.1/19 --> địa chỉ host đầu

....

172.16.255.254/19 --> địa chỉ host cuối\
172.16.255.255/19 --> địa chỉ broadcast

---------------------------------

Subnet mask là 255.255.224.0. Số prefex là 19

e) 172.16.0.0/16 mượn 12 bit, còn lại 4 bit

- số subnet: 2^12 = 2048
- số host/subnet: 2^4 - 2 = 14
- Liệt kê các mạng:

172.16.0.0/28 --> địa chỉ mạng\
172.16.0.1/28 --> địa chỉ host đầu

....

172.16.0.14/28 --> địa chỉ host cuối\
172.16.0.15/28 --> địa chỉ broadcast

---------------------------------

172.16.0.16/28 --> địa chỉ mạng\
172.16.0.17/28 --> địa chỉ host đầu

....

172.16.0.30/28 --> địa chỉ host cuối\
172.16.0.31/28 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

172.16.255.240/28 --> địa chỉ mạng\
172.16.255.241/28 --> địa chỉ host đầu

....

172.16.255.254/28 --> địa chỉ host cuối\
172.16.255.255/28 --> địa chỉ broadcast

---------------------------------

Subnet mask là 255.255.255.240. Số prefex là 28

f) 10.0.0.0/8 mượn 5 bit, còn lại 19 bit

- số subnet: 2^5 = 32
- số host/subnet: 2^19 - 2 
- Liệt kê các mạng:

10.0.0.0/13 --> địa chỉ mạng\
10.0.0.1/13 --> địa chỉ host đầu

....

10.7.255.254/13 --> địa chỉ host cuối\
10.7.255.255/13 --> địa chỉ broadcast

---------------------------------

10.8.0.0/13 --> địa chỉ mạng\
10.8.0.1/13 --> địa chỉ host đầu

....

10.15.255.254/13 --> địa chỉ host cuối\
10.15.255.255/13 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

10.248.0.0/13 --> địa chỉ mạng\
10.248.0.1/13 --> địa chỉ host đầu

....

10.255.255.254/13 --> địa chỉ host cuối\
10.255.255.255/13 --> địa chỉ broadcast

---------------------------------

Subnet mask là 255.248.0.0. Số prefex là 13

g) 10.0.0.0/8 mượn 10 bit, còn lại 14 bit

- số subnet: 2^10 = 1024
- số host/subnet: 2^14 - 2 
- Liệt kê các mạng:

10.0.0.0/18 --> địa chỉ mạng\
10.0.0.1/18 --> địa chỉ host đầu

....

10.0.63.254/18 --> địa chỉ host cuối\
10.0.63.255/18 --> địa chỉ broadcast

---------------------------------

10.0.64.0/18 --> địa chỉ mạng\
10.0.64.1/18 --> địa chỉ host đầu

....

10.0.127.254/18 --> địa chỉ host cuối\
10.0.127.255/18 --> địa chỉ broadcast

---------------------------------

10.0.128.0/18 --> địa chỉ mạng\
10.0.128.1/18 --> địa chỉ host đầu

....

10.0.191.254/18 --> địa chỉ host cuối\
10.0.191.255/18 --> địa chỉ broadcast

---------------------------------

10.0.192.0/18 --> địa chỉ mạng\
10.0.192.1/18 --> địa chỉ host đầu

....

10.0.255.254/18 --> địa chỉ host cuối\
10.0.255.255/18 --> địa chỉ broadcast

---------------------------------

10.1.0.0/18 --> địa chỉ mạng\
10.1.0.1/18 --> địa chỉ host đầu

....

10.1.63.254/18 --> địa chỉ host cuối\
10.1.63.255/18 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

10.255.192.0/18 --> địa chỉ mạng\
10.255.192.1/18 --> địa chỉ host đầu

....

10.255.255.254/18 --> địa chỉ host cuối\
10.255.255.255/18 --> địa chỉ broadcast

---------------------------------

Subnet mask là 255.255.192.0. Số prefex là 18

h) 10.0.0.0/8, mượn 18 bit, còn lại 6 bit

- số subnet: 2^18 
- số host/subnet: 2^6 - 2 = 62
- Liệt kê các mạng:

10.0.0.0/26 --> địa chỉ mạng\
10.0.0.1/26 --> địa chỉ host đầu

....

10.0.0.62/26 --> địa chỉ host cuối\
10.0.0.63/26 --> địa chỉ broadcast

---------------------------------

10.0.0.64/26 --> địa chỉ mạng\
10.0.0.65/26 --> địa chỉ host đầu

....

10.0.0.126/26 --> địa chỉ host cuối\
10.0.0.127/26 --> địa chỉ broadcast

---------------------------------

10.0.0.128/26 --> địa chỉ mạng\
10.0.0.129/26 --> địa chỉ host đầu

....

10.0.0.190/26 --> địa chỉ host cuối\
10.0.0.191/26 --> địa chỉ broadcast

---------------------------------

10.0.0.192/26 --> địa chỉ mạng\
10.0.0.193/26 --> địa chỉ host đầu

....

10.0.0.254/26 --> địa chỉ host cuối\
10.0.0.255/26 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

10.0.1.0/26 --> địa chỉ mạng\
10.0.1.1/26 --> địa chỉ host đầu

....

10.0.1.62/26 --> địa chỉ host cuối\
10.0.1.63/26 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

10.0.1.192/26 --> địa chỉ mạng\
10.0.1.193/26 --> địa chỉ host đầu

....

10.0.1.254/26 --> địa chỉ host cuối\
10.0.1.255/26 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

10.0.255.192/26 --> địa chỉ mạng\
10.0.255.193/26 --> địa chỉ host đầu

....

10.0.255.254/26 --> địa chỉ host cuối\
10.0.255.255/26 --> địa chỉ broadcast

---------------------------------

....

---------------------------------

10.255.255.192/26 --> địa chỉ mạng\
10.255.255.193/26 --> địa chỉ host đầu

....

10.255.255.254/26 --> địa chỉ host cuối\
10.255.255.255/26 --> địa chỉ broadcast

Subnet mask là 255.255.255.192. Số prefex là 26

4.6.2: 172.16.5.0/24

Các mạng xếp theo thứ tự số host từ cao xuống thấp là 78 host, 50 host, 20 host, 10 host, 5 host

---
Xét mạng nhiều host nhất: 78 host. Ta có hệ:

2^m - 2 >= 79 và m + n = 8  => m = 7,n = 1 

Vậy ta mượn 1 bit và dành mạng 172.16.5.0/25 để gán cho mạng 78 host. Mỗi mạng có 2^7 - 2 = 126 host.

---

Tiếp theo xét đến mạng 50 host. Ta có hệ:

2^m -2 >= 51 và m + n = 8 => m = 6, n = 2

Vậy ta mượn 2 bit, mạng 172.16.5.0/24 được chia thành 4 mạng 172.16.5.0/26, 172.16.5.64/26, 172.16.5.128/26 và 172.16.5.192/26.
Do 172.16.5.0/26, 172.16.5.64/26 đã dùng cho mạng 100 host nên ta lấy mạng 172.16.5.128/26 gán cho mạng 50 host. 

---

Tiếp theo xét đến mạng 20 host. Ta có hệ:

2^m - 2 >=21 và m + n = 8 => m = 5, n = 3

Vậy ta mượn 3 bit, mạng 172.16.5.0/24 được chia thành 8 mạng. Ta lấy 172.16.5.192/27 gán cho mạng 20 host.

---

Tiếp theo xét đến mạng 10 host. Ta có hệ:

2^m - 2 >= 11 và m + n = 8 => m = 4, n = 4

Vậy ta mượn 4 bit, mạng 172.16.5.0/24 chia thành 16 mạng. Ta lấy mạng 172.16.5.224/28 gán cho mạng 10 host.

---

Tiếp theo xét đến mạng 5 host. Ta có hệ:

2^m - 2 >= 6 và m + n = 8 => m = 3, n = 5

Vậy ta mượn 5 bit, mạng 172.16.5.0/24 chia thành 32 mạng. Ta lấy mạng 172.16.5.240/29 gán cho mạng 5 host.

---

Tiếp đó ta xét đến các mạng có 2 host là các liên kết điểm – điểm serial. Ta có hệ:

2^m - 2 >= 2 và m + n = 8 => m = 2, n = 6

Vây ta mượn 6 bit, mạng 172.16.5.0/24 chia thành 64 mạng. Trừ đi các dải đã gán cho các mạng 78 host, 50 host, 20 host, 10 host và 5 host, ta có thể lấy từ mạng 172.16.5.248/30 gán cho các mạng 2 host. Ta lấy mạng 172.16.5.248/30 và 172.16.5.252 gán cho hai liên kết serial.

Ta có kết quả như sau: 

![image7](/HoangNH/4.TimhieuIPv4/image/bt.png)


4.6.3

a) 192.168.1.130/29

Subnet mask: 255.255.255.248 --> 11111111.11111111.11111111.11111000\
Địa chỉ    : 192.168.1.130   --> 11000000.10101000.00000001.10000010

--> thực hiện phép AND: Địa chỉ subnet: 11000000.10101000.00000001.10000000 = 192.168.1.128/29

b) 172.16.34.57/18

Subnet mask: 11111111.11111111.11000000.00000000\
Địa chỉ    : 10101100.00010000.00100010.00111001

--> thực hiện phép AND: Địa chỉ subnet: 10101100.000100000.00000000.00000000 = 172.16.0.0/18

c) 203.162.4.191/28

Subnet mask: 11111111.11111111.11111111.11110000\
Địa chỉ    : 11001011.10100010.00000100.10111111

--> thực hiện phép AND: Địa chỉ subnet: 11001011.10100010.00000100.10110000 = 203.162.4.176/28

d) 1.1.1.1/30

Subnet mask: 11111111.11111111.11111111.11111100\
Địa chỉ    : 00000001.00000001.00000001.00000001

--> thực hiện phép AND: Địa chỉ subnet:  00000001.00000001.00000001.00000000 = 1.1.1.0/30

e) 10.10.10.89/29 

Subnet mask: 11111111.11111111.11111111.11111000\
Địa chỉ    : 00001010.00001010.00001010.01011001

--> thực hiện phép AND: Địa chỉ subnet:  00001010.00001010.00001010.01011000 = 10.10.10.88/29

f) 70.9.12.35/30 

Subnet mask: 11111111.11111111.11111111.11111100\
Địa chỉ    : 01000110.00001001.00001100.00100011

--> thực hiện phép AND: Địa chỉ subnet:  01000110.00001001.00001100.00100000 = 70.9.12.32/30

g) 158.16.23.208/29 

Subnet mask: 11111111.11111111.11111111.11111000\
Địa chỉ    : 10011110.00010000.00010111.11010000

--> thực hiện phép AND: Địa chỉ subnet:  10011110.00010000.00010111.11010000 = 158.16.23.208/29

4.6.4

a) 
- 192.168.0.0/24 --> 192.168.|000000|00.0
- 192.168.1.0/24 --> 192.168.|000000|01.0
- 192.168.2.0/24 --> 192.168.|000000|10.0
- 192.168.3.0/24 --> 192.168.|000000|11.0

--> mạng tóm tắt: 192.168.0.0/22

b)
- 172.16.16.0/24 --> 172.16.|0001|0000.0
- 172.16.20.0.24 --> 172.16.|0001|0100.0
- 172.16.24.0/24 --> 172.16.|0001|1000.0
- 172.16.28.0/24 --> 172.16.|0001|1100.0

--> mạng tóm tắt: 172.16.16.0/20

