# DIRECTIVES APACHE 

## TRÊN CENTOS 9

### 1. `/etc/httpd/` # Thư mục cấu hình chính của Apache  

├── `conf/`                                     # Các file cấu hình chính  
│   ├── `httpd.conf`                            # File config chính nhất, chỉnh hết ở đây  
│   └── `magic`                                 # File nhận diện loại file (MIME type)  
│  
├── `conf.d/`                                   # Thư mục config phụ (tự động load khi khởi động)  
│   ├── `autoindex.conf`                        # Cấu hình hiển thị danh sách file trong thư mục  
│   ├── `userdir.conf`                          # Cấu hình thư mục cá nhân user (vd: ~username)  
│   ├── `welcome.conf`                          # Trang chào mừng mặc định khi vào localhost  
│   ├── `ssl.conf`                              # Cấu hình HTTPS/SSL (cần cài mod_ssl)  
│   └── `*.conf`                                # ĐẶT FILE VIRTUAL HOST TÙY CHỈNH Ở ĐÂY  
│  
├── `conf.modules.d/`                        # Thư mục quản lý các module (plugin) của Apache  
│   ├── `00-mpm.conf`                           # Cấu hình xử lý đa luồng/đa tiến trình  
│   ├── `00-optional.conf`                      # Các module tùy chọn, không bắt buộc  
│   ├── `00-proxy.conf`                         # Module làm proxy/load balancer  
│   ├── `00-ssl.conf`                           # Module hỗ trợ SSL/TLS  
│   ├── `00-systemd.conf`                       # Tích hợp với systemd của Linux  
│   ├── `10-h2.conf`                            # Hỗ trợ HTTP/2 (nhanh hơn HTTP/1.1)  
│   ├── `10-proxy_h2.conf`                      # Proxy HTTP/2  
│   └── `README`                                # File hướng dẫn về modules  
│  
├── `logs` -> `/var/log/httpd/`                   # Link tắt đến thư mục log  
├── `modules` -> `/usr/lib64/httpd/modules/`      # Link tắt đến thư mục chứa module  
├── `run` -> `/run/httpd/`                        # Dữ liệu runtime (PID, socket...)  
└── `state` -> `/var/lib/httpd/`                  # Dữ liệu trạng thái của Apache  
  
### 2. `/var/www/` # Thư mục chứa nội dung website
  
├── `html/`                                     # Thư mục gốc website mặc định (DocumentRoot)  
│   └── `index.html`                            # Trang chủ - file đầu tiên hiển thị  
│  
├── `cgi-bin/`                                  # Thư mục chứa script CGI (Perl, Python, Shell...)  
│   └── (rỗng hoặc có các script CGI)  
│  
└── `error/`                                    # Thư mục chứa trang lỗi tùy chỉnh  
    ├── `HTTP_BAD_GATEWAY.html.var`             # Trang lỗi 502 Bad Gateway  
    ├── `HTTP_BAD_REQUEST.html.var`             # Trang lỗi 400 Bad Request  
    ├── `HTTP_FORBIDDEN.html.var`               # Trang lỗi 403 Forbidden (không có quyền)  
    ├── `HTTP_GONE.html.var`                    # Trang lỗi 410 Gone  
    ├── `HTTP_INTERNAL_SERVER_ERROR.html.var`   # Trang lỗi 500 Internal Server Error  
    ├── `HTTP_LENGTH_REQUIRED.html.var`         # Trang lỗi 411 Length Required  
    ├── `HTTP_METHOD_NOT_ALLOWED.html.var`      # Trang lỗi 405 Method Not Allowed  
    ├── `HTTP_NOT_FOUND.html.var`               # Trang lỗi 404 Not Found (không tìm thấy)  
    ├── `HTTP_NOT_IMPLEMENTED.html.var`         # Trang lỗi 501 Not Implemented  
    ├── `HTTP_PRECONDITION_FAILED.html.var`     # Trang lỗi 412 Precondition Failed  
    ├── `HTTP_REQUEST_ENTITY_TOO_LARGE.html.var`# Trang lỗi 413 Request Too Large  
    ├── `HTTP_REQUEST_TIME_OUT.html.var`        # Trang lỗi 408 Request Timeout  
    ├── `HTTP_REQUEST_URI_TOO_LARGE.html.var`   # Trang lỗi 414 URI Too Long  
    ├── `HTTP_SERVICE_UNAVAILABLE.html.var`     # Trang lỗi 503 Service Unavailable  
    ├── `HTTP_UNAUTHORIZED.html.var`            # Trang lỗi 401 Unauthorized (chưa đăng nhập)  
    ├── `HTTP_UNSUPPORTED_MEDIA_TYPE.html.var`  # Trang lỗi 415 Unsupported Media Type  
    ├── `HTTP_VARIANT_ALSO_VARIES.html.var`     # Trang lỗi 506 Variant Also Negotiates  
    ├── `README`                                # Hướng dẫn tùy chỉnh error pages  
    ├── `contact.html.var`                      # Template trang liên hệ admin  
    └── `include/`                              # Các file include cho error pages  
  
### 3.`/var/log/httpd/` # Thư mục chứa file log của Apache  
  
├── `access_log`                                # Log ghi lại TẤT CẢ request truy cập  
├── `error_log`                                 # Log ghi lại TẤT CẢ lỗi xảy ra  
├── `ssl_access_log`                            # Log HTTPS access (nếu dùng SSL)  
├── `ssl_error_log`                             # Log lỗi HTTPS  
└── `ssl_request_log`                           # Log chi tiết SSL handshake  
  
### 4.`/usr/lib64/httpd/modules/` # Thư mục chứa các module của Apache (file .so)  
  
├── `mod_access_compat.so`                      # Module tương thích access control cũ  
├── `mod_actions.so`                            # Module thực thi action dựa trên MIME type  
├── `mod_alias.so`                              # Module tạo alias URL (đổi đường dẫn)  
├── `mod_allowmethods.so`                       # Module giới hạn HTTP methods cho phép  
├── `mod_auth_basic.so`                         # Module xác thực cơ bản (username/password)  
...  
  
### 5.`/usr/sbin/` # Thư mục chứa các lệnh quản trị Apache
  
├── `httpd`                                     # File chương trình Apache chính  
├── `apachectl`                                 # Script điều khiển Apache (start/stop/restart)  
├── `htcacheclean`                              # Dọn dẹp cache disk  
├── `rotatelogs`                                # Công cụ xoay vòng log files  
├── `suexec`                                    # Chạy CGI với quyền user khác  
└── `fcgistarter`                               # Khởi động FastCGI processes  
  
### 6.`/usr/bin/` # Công cụ tiện ích Apache  
  
├── `ab`                                        # Apache Benchmark - test tải website  
├── `htdbm`                                     # Quản lý password trong DBM database  
├── `htdigest`                                  # Tạo file digest authentication  
├── `htpasswd`                                  # Tạo/quản lý file password (CỰC HAY DÙNG!)  
├── `httxt2dbm`                                 # Chuyển text file sang DBM  
└── `logresolve`                                # Phân giải IP thành hostname trong log  

### 7.`/run/httpd/` # Thư mục runtime (tạm thời khi Apache chạy)  
  
├── `httpd.pid`                                 # File chứa Process ID của Apache  
└── (socket files)                            # Các Unix socket files nếu có  

### 8.`/var/lib/httpd/`                              # Dữ liệu state của Apache  
  
└── (runtime state data)                      # Dữ liệu trạng thái tạm thời  
  
### 9.`/usr/share/httpd/` # Dữ liệu dùng chung của Apache  
  
├── `error/`                                    # Template các trang lỗi  
│   └── (error page templates)  
├── `icons/`                                    # Các icon mặc định cho autoindex  
│   ├── `small/`                               # Icons nhỏ  
│   ├── `README`                               # Hướng dẫn  
│   ├── `a.gif`, `apache_pb.gif`, `back.gif`...   # Các file icon  
│   └── (nhiều icons khác)  
├── `noindex/`                                  # Assets cho trang welcome mặc định  
│   ├── `css/`                                 # File CSS  
│   └── `images/`                              # Hình ảnh  
└── `manual/`                                   # Tài liệu Apache (nếu cài package httpd-manual)  
  
### 10.`/etc/sysconfig/` # Cấu hình hệ thống  

└── `httpd`                                     # Biến môi trường cho Apache  
  
### 11.`/etc/systemd/system/` # Override systemd services  
  
└── `httpd.service`                            # Override service (nếu có)  
  
### 12.`/usr/lib/systemd/system/` # Systemd units mặc định  

├── `httpd.service`                            # Service chính của Apache  
├── <httpd@.service>                           # Template chạy nhiều instance Apache  
├── `httpd.socket`                            # Socket activation  
└── `htcacheclean.service`                     # Service dọn cache tự động  
  
### 13./var/cache/httpd/ # Thư mục cache của Apache  

└── (cache files nếu bật mod_cache)          # File cache nếu dùng module cache  
  
### 14.`/etc/logrotate.d/` # Cấu hình tự động xoay vòng log  

└── `httpd`                                    # Rules để rotate log Apache tự động  
